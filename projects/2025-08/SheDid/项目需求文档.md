# 去中心化内容提案平台 - 黑客松项目

## 项目概述
一个基于IPFS的去中心化内容发布和投票平台，用户发布内容经AI校验后进入广场，通过社区投票决定是否上链。

## 核心功能

### 1. 内容发布模块
- 用户可以发布文本内容（支持markdown）
- 内容自动通过AI进行合规性校验
- 校验通过的内容自动发布到广场

### 2. 内容广场模块
- 展示所有已发布的提案内容
- 用户可以浏览、查看详细内容
- 显示每个提案的投票状态和进度

### 3. 投票系统
- 用户可以对提案进行赞成/反对投票
- 实时显示投票结果和进度条
- 设置投票阈值（如超过10票且赞成率>60%通过）

### 4. 钱包集成
- 支持MetaMask钱包连接
- 用户身份验证和地址显示
- 网络切换提示和处理
- 钱包状态管理（连接/断开/切换账户）

### 5. 上链功能
- 投票通过的内容自动触发上链流程
- 显示上链状态和交易哈希
- 上链成功后标记为"已上链"状态

## 技术架构

### 前端技术栈
- **框架**: React + Vite（快速开发）
- **样式**: Tailwind CSS（快速UI开发）
- **状态管理**: React Context + useState
- **Web3**: wagmi + RainbowKit（现代化钱包集成）
- **IPFS**: js-ipfs 或 ipfs-http-client

### 存储方案
- **内容存储**: IPFS（去中心化存储）
- **元数据**: 本地localStorage + IPFS
- **投票数据**: 智能合约 + IPFS备份

### AI校验
- 集成OpenAI API或本地AI模型
- 检查内容合规性、质量等
- 简单的关键词过滤作为备选方案

## 数据结构

### 提案数据结构
```json
{
  "id": "proposal_uuid",
  "title": "提案标题",
  "content": "提案内容",
  "author": "用户地址",
  "timestamp": 1234567890,
  "ipfsHash": "QmXXXXXX",
  "status": "pending|voting|approved|rejected|onchain",
  "votes": {
    "approve": 0,
    "reject": 0,
    "voters": []
  },
  "aiVerification": {
    "passed": true,
    "score": 0.85,
    "feedback": "内容质量良好"
  }
}
```

## 开发优先级

### Phase 1 (2小时) - 核心功能
1. 项目搭建和基础UI框架
2. 内容发布功能
3. IPFS集成和内容存储
4. 简单的AI校验（关键词过滤）

### Phase 2 (2小时) - 投票系统
1. 广场页面和内容展示
2. 投票功能实现
3. 投票状态管理
4. 基础的智能合约交互

### Phase 3 (1小时) - 完善和部署
1. 上链功能完善
2. UI优化和响应式设计
3. 错误处理和用户体验优化
4. 项目部署和演示准备

## 简化策略（时间紧张）

1. **AI校验简化**: 使用关键词黑名单 + 长度检查
2. **智能合约**: 使用现有的简单投票合约模板
3. **UI设计**: 使用Tailwind组件库，专注功能实现
4. **测试网络**: 使用Sepolia或本地Hardhat网络
5. **用户认证**: 简化为MetaMask连接

## 成功指标
- 用户可以成功发布内容到IPFS
- AI校验功能正常工作
- 投票系统可以正常统计和显示结果
- 至少一个提案可以成功上链
- 界面友好，演示流畅

## 风险和备选方案
- **IPFS连接问题**: 准备本地存储备选方案
- **AI API限制**: 准备简单规则校验
- **区块链网络问题**: 准备模拟上链功能
- **时间不足**: 优先核心功能，UI可以简化