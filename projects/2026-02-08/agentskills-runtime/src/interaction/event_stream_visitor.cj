
/*
 * Copyright (c) Huawei Technologies Co., Ltd. 2024-2025. All rights reserved.
 */
//-----------------------------------------------
// This file is generated by gen.py
// Never modify it directly
//-----------------------------------------------
package magic.interaction

import magic.core.interaction.*


public abstract class EventStreamVisitor {
    public EventStreamVisitor(
        private let events: EventStream
    ) { }

    public func start(): Unit {
        for (event in this.events) {
            this.onEvent(event)
        }
    }

    private func onEvent(event: InteractionEvent): Unit {
        match (event.kind) {
           case EventKind.ToolCallStart =>
                this.on((event as ToolCallStartEvent).getOrThrow())
           case EventKind.ToolCallEnd =>
                this.on((event as ToolCallEndEvent).getOrThrow())
           case EventKind.ToolCallRepeat =>
                this.on((event as ToolCallRepeatEvent).getOrThrow())
           case EventKind.ChatModelStart =>
                this.on((event as ChatModelStartEvent).getOrThrow())
           case EventKind.ChatModelEnd =>
                this.on((event as ChatModelEndEvent).getOrThrow())
           case EventKind.ChatModelFailure =>
                this.on((event as ChatModelFailureEvent).getOrThrow())
           case EventKind.AgentStart =>
                this.on((event as AgentStartEvent).getOrThrow())
           case EventKind.AgentEnd =>
                this.on((event as AgentEndEvent).getOrThrow())
           case EventKind.AgentStep =>
                this.on((event as AgentStepEvent).getOrThrow())
           case EventKind.SubAgentStart =>
                this.on((event as SubAgentStartEvent).getOrThrow())
           case EventKind.SubAgentEnd =>
                this.on((event as SubAgentEndEvent).getOrThrow())
           case EventKind.AgentTimeout =>
                this.on((event as AgentTimeoutEvent).getOrThrow())
           case EventKind.UserInput =>
                this.on((event as UserInputEvent).getOrThrow())
           case EventKind.Notify =>
                this.on((event as NotifyEvent).getOrThrow())
           case EventKind.Sentinel => throw UnsupportedException('Unreachable')
        }
    }
    open public func on(event: ToolCallStartEvent): Unit { }

    open public func on(event: ToolCallEndEvent): Unit { }

    open public func on(event: ToolCallRepeatEvent): Unit { }

    open public func on(event: ChatModelStartEvent): Unit { }

    open public func on(event: ChatModelEndEvent): Unit { }

    open public func on(event: ChatModelFailureEvent): Unit { }

    open public func on(event: AgentStartEvent): Unit { }

    open public func on(event: AgentEndEvent): Unit { }

    open public func on(event: AgentStepEvent): Unit { }

    open public func on(event: SubAgentStartEvent): Unit { }

    open public func on(event: SubAgentEndEvent): Unit { }

    open public func on(event: AgentTimeoutEvent): Unit { }

    open public func on(event: UserInputEvent): Unit { }

    open public func on(event: NotifyEvent): Unit { }

}